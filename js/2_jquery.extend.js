$.fn.datalazy=function(){var a=this;return a.each(function(){var a=$(this),b=a.find("textarea").text()||"";b&&$(a).module({template:b},"scroll")()}),a},$.extend({functionDo:function(a,b,c){return"function"==typeof a?a.apply(c||a,b||[]):a},functionCall:function(a,b,c){"object"==typeof a&&a.done?a.done(function(a){$.functionDo(b,[a],c)}):$.functionDo(b,[a],c)}}),$.fn.module=function(a,b){function c(b){var c,d;css=$.functionDo(a.css),$.addCss(css),d=$.functionDo(a.template),c=$.functionDo(a.data),$.functionCall(c,function(a){var b=$.template(d,a);f.html(b)}),"function"==typeof a.event&&a.event.call(f,b),g.resolve()}function d(a){var b=f.offset().top-200,d=f.height(),e=b+d+200,g=$(window).height(),h=_.now()+_.random(0,1e5);$(window).On("load scroll."+h,function(){var d=$(window).scrollTop(),f=d+g,i=e>d&&f>e,j=b>d&&f>b,k=d>b&&e>f;(i||j||k)&&(c(a),$(window).off("scroll."+h))},100)}function e(a){return"scroll"===b?d():b>0?setTimeout(function(){c(a)},b):c(a),g.promise()}var f=this,g=$.Deferred();return e},$.fn.On=function(){var a,b,c=this,d=_.last(arguments);"number"==typeof d?(a=d,b=_.initial(arguments)):a=300;var e=_.map(b,function(b,c){return"function"==typeof b&&(b=_.throttle(b,a)),b});return c.on.apply(c,e)},$.extend({getRegExp:function(a){var b={tel:/^\+?[0\s]*[\d]{0,4}[\-\s]?\d{0,6}[\-\s]?\d{4,12}$/,phone:/^\d{11}$/,qq:/^[1-9]\d{4,14}$/,email:/^\w+(?:[-+.']\w+)*@\w+(?:[-.]\w+)*\.\w+(?:[-.]\w+)*$/,idcard:/^(?:\d{17}[\d|X]|\d{15})$/,url:/^(?:http(?:s)?:\/\/(?:[\w-]+\.)+[\w-]+(?:\:\d+)*(?:\/[\w- .\/?%&=]*)?)$/};return b[a]?b[a]:""},isRegExp:function(a){return"[object RegExp]"===Object.prototype.toString.call(a)},testRegExp:function(a,b){var c=$.isRegExp(a)?a:$.getRegExp(a),d=!1;return $.isRegExp(c)&&(d=c.test(b)),d}}),function(){function a(a,b,c,d){"insertRule"in a?a.insertRule(b+"{"+c+"}",d):"addRule"in a&&a.addRule(b,c,d)}function b(b){d||(d=document.createElement("style"),d.type="text/css",d.media="all",document.getElementsByTagName("head")[0].appendChild(d),e=document.styleSheets[0]);for(var c=b.split(/{|}/),f=0,g=c.length;g>f;f+=2)c[f]&&a(e,c[f],c[f+1])}function c(a){var b=document,c=b.createElement("link"),d=b.getElementsByTagName("head")[0];c.rel="stylesheet",c.type="text/css",c.href=a,d.appendChild(c)}var d,e;$.extend({addCss:function(a){$.testRegExp("url",a)?c(a):a&&b(a)}})}(),$.extend({template:function(a,b){return b&&b.length>=1?str=_.reduce(b,function(b,c,d){return b+_.template(a)(c)},""):str=_.template(a)(b),str}});